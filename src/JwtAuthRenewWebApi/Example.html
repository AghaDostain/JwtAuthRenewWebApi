<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>JwtAuthRenewWebApi Examples</title>

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
</head>
<body>
    <div class="container">
        <h1>JwtAuthRenewWebApi Examples</h1>
        <p>
            This project is about how to add JWT support to Web API, not about how to write the calling client code. Thus this is not an exhaustive example.
            However, if you inspect the JavaScript you should see some simple examples how how to obtain a JWT from the server using the <code>authenticate</code> endpoint,
            store that JWT in a local variable, and then use it in subsequent calls which require authentication such as <code>ping</code>. Some additional example code
            can be found that demonstrates how to retrieve and updated JWT from any API responses and update the stored token to achieve sliding expiration.
        </p>
        <p>
            In short, you'll get the most out of this example when you trace the AJAX calls in your browser's developer tools and step through the Web API code in Visual Studio.
        </p>

        <h2>Ping</h2>
        <p>
            This API is just a simple server ping. If you are authenticated it will succeed; otherwise, it will return a <code>401 Unauthorized</code> error.
            In Web API this route is using the <code>[Authorize]</code> attribute.
        </p>
        <div id="ping-alert"></div>
        <form id="ping">
            <button type="submit" class="btn btn-default">Submit</button>
        </form>

        <h2>Authenticate</h2>
        <p>
            This call will authenticate the user and store the JWT in a local variable to be used on subsequent calls.
        </p>
        <div id="authenticate-alert"></div>
        <form id="authenticate">
            <div class="form-group">
                <label for="emailAddress">Email Address</label>
                <input type="email" class="form-control" id="emailAddress" name="emailAddress" placeholder="Email" value="liz.lemon@example.com" />
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="Password" value="Password1" />
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
        </form>
    </div>

    <script type="text/template" id="alert-template">
        <div class="alert alert-dismissable" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close" aria-hidden="true">&times;</button>
            <strong class="alert-title"></strong> <span class="alert-message"></span>
        </div>
    </script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="example.js"></script>
</body>
</html>
